<?php

return <<<'VALUE'
"namespace IPS\\Theme;\nclass class_core_global_plugins extends \\IPS\\Theme\\Template\n{\n\tpublic $cache_key = '9a31bead714a37eaad3463cd04f1621d';\n\tfunction langBoardTop(  ) {\n\t\t$return = '';\n\t\ttry\n\t\t{\n\t\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\n$languages = \\IPS\\Lang::getEnabledLanguages();\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( count( $languages ) > 1 ):\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nif ( \\IPS\\Settings::i()->langboardtop_type == \"flags\" ):\n$return .= <<<CONTENT\n\n\t\t<li class='elUserNav_sep'><\/li>\n\t\t\t<li>\n\t\t\t\t<ul class='ipsList_inline'>\n\t\t\t\t\t\nCONTENT;\n\nforeach ( $languages as $id => $lang  ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\nCONTENT;\n\n$url = \\IPS\\Http\\Url::internal( 'app=core&module=system&controller=language&id='.$id, 'front' )->csrf();\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t<a data-ipsTooltip data-ipsTooltip-label=\" \nCONTENT;\n$return .= htmlspecialchars( $lang->title, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" href='\nCONTENT;\n$return .= htmlspecialchars( $url, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'><i class='\nCONTENT;\n$return .= htmlspecialchars( $lang->get__icon(), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'><\/i><\/a>\n\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\t<\/ul>\n\t\t\t<\/li>\n\t\t<\/li>\n\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t<li>\n\t\t\t<a href='#elNavLang_menu' id='elNavLang' data-ipsMenu data-ipsMenu-above>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'language', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n <i class='fa fa-caret-down'><\/i><\/a>\n\t\t\t<ul id='elNavLang_menu' class='ipsMenu ipsMenu_selectable ipsHide'>\n\t\t\t\nCONTENT;\n\nforeach ( $languages as $id => $lang  ):\n$return .= <<<CONTENT\n\n\t\t\t\t<li class='ipsMenu_item\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->language()->id == $id || ( $lang->default && \\IPS\\Member::loggedIn()->language === 0 ) ):\n$return .= <<<CONTENT\n ipsMenu_itemChecked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t<form action=\"\nCONTENT;\n\n$return .= str_replace( array( 'http:\/\/', 'https:\/\/' ), '\/\/', htmlspecialchars( \\IPS\\Http\\Url::internal( \"app=core&module=system&controller=language\" . \"&csrfKey=\" . \\IPS\\Session::i()->csrfKey, null, \"language\", array(), 0 ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', TRUE ) );\n$return .= <<<CONTENT\n\" method=\"post\">\n\t\t\t\t\t<button type='submit' name='id' value='\nCONTENT;\n$return .= htmlspecialchars( $id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' class='ipsButton ipsButton_link'>\nCONTENT;\n\nif ( $lang->get__icon() ):\n$return .= <<<CONTENT\n<i class='\nCONTENT;\n$return .= htmlspecialchars( $lang->get__icon(), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'><\/i> \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $lang->title, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n \nCONTENT;\n\nif ( $lang->default ):\n$return .= <<<CONTENT\n\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'default', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n<\/button>\n\t\t\t\t\t<\/form>\n\t\t\t\t<\/li>\n\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t<\/ul>\n\t\t<\/li>\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\t\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\t}\n\t\tcatch ( \\Exception $exception )\n\t\t{\n\t\t\t\\IPS\\Log::log( $exception, \"template_langBoardTop\" );\n\t\t}\n\t\treturn $return;\n}\n\n\tfunction nbRecentTopicsPosts( $topics, $posts, $selectedTab, $tabs, $firstTab, $config, $uniqueKey, $widgetTitle, $goToUrl ) {\n\t\t$return = '';\n\t\ttry\n\t\t{\n\t\t\t$return .= <<<CONTENT\n\n<h3 class='ipsWidget_title ipsType_reset' \nCONTENT;\n\nif ( $config['nb_tab_top_pos_tabs_style'] == 'style1' ):\n$return .= <<<CONTENT\n data-controller='nbRecentTopicsPosts' data-nbrectptabs-uniquekey='\nCONTENT;\n$return .= htmlspecialchars( $uniqueKey, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\nCONTENT;\n$return .= htmlspecialchars( $widgetTitle['nb_tab_top_pos_title_recent'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nif ( $config['nb_tab_top_pos_tabs_style'] == 'style1' ):\n$return .= <<<CONTENT\n&nbsp;\n\t\nCONTENT;\n\nforeach ( $tabs as $key => $tab ):\n$return .= <<<CONTENT\n\n\t\t\t<span id='nbRecTPTabsTab\nCONTENT;\n$return .= htmlspecialchars( $tab, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n_\nCONTENT;\n$return .= htmlspecialchars( $uniqueKey, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' class='\nCONTENT;\n\nif ( count($tabs) > 1 ):\n$return .= <<<CONTENT\nipsCursor_pointer\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\nif ( $selectedTab == $key ):\n$return .= <<<CONTENT\n nbRTPActiveTab\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' data-action='nbRecentTopicsPostsActin' data-nbrectptabs-key='\nCONTENT;\n$return .= htmlspecialchars( $key, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\nCONTENT;\n$return .= htmlspecialchars( $widgetTitle['nb_tab_top_pos_title_' . $key], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/span>\n\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n<\/h3>\n<div class='ipsPad_half ipsWidget_inner'>\n\t<div id='nbRecTPTabsTabBar_\nCONTENT;\n$return .= htmlspecialchars( $uniqueKey, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' class='ipsTabs ipsTabs_small ipsTabs_stretch ipsClearfix \nCONTENT;\n\nif ( $config['nb_tab_top_pos_tabs_style'] == 'style1' ):\n$return .= <<<CONTENT\n ipsHide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' data-ipsTabBar data-ipsTabBarcontentArea='#nbRecTPTabsTabContent_\nCONTENT;\n$return .= htmlspecialchars( $uniqueKey, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\n\t\t<a href='#nbRecTPTabsTabBar_\nCONTENT;\n$return .= htmlspecialchars( $uniqueKey, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' data-action='expandTabs'><i class='fa fa-caret-down'><\/i><\/a>\n\t\t<ul role='tablist' class='ipsList_inline' \nCONTENT;\n\nif ( $config['nb_tab_top_pos_tabs_style'] == 'style2' ):\n$return .= <<<CONTENT\n data-controller='nbRecentTopicsPosts' data-nbrectptabs-uniquekey='\nCONTENT;\n$return .= htmlspecialchars( $uniqueKey, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\nCONTENT;\n\nforeach ( $tabs as $key => $tab ):\n$return .= <<<CONTENT\n\n\t\t\t\t<li role='presentation'>\n\t\t\t\t\t<a href='#' id='nbRecTPTabsTab\nCONTENT;\n$return .= htmlspecialchars( $tab, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n_\nCONTENT;\n$return .= htmlspecialchars( $uniqueKey, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n_Hide' role='tab' class='ipsTabs_item \nCONTENT;\n\nif ( $selectedTab == $key ):\n$return .= <<<CONTENT\n ipsTabs_activeItem nbRTPActiveTab\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' \nCONTENT;\n\nif ( $selectedTab == $key ):\n$return .= <<<CONTENT\naria-selected=\"true\"\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n \nCONTENT;\n\nif ( $config['nb_tab_top_pos_tabs_style'] == 'style2' ):\n$return .= <<<CONTENT\n data-action='nbRecentTopicsPostsActin' data-nbrectptabs-key='\nCONTENT;\n$return .= htmlspecialchars( $key, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\nCONTENT;\n$return .= htmlspecialchars( $widgetTitle['nb_tab_top_pos_title_' . $key], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/a>\n\t\t\t\t<\/li>\n\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t<\/ul>\n\t<\/div>\n\t<section id='nbRecTPTabsTabContent_\nCONTENT;\n$return .= htmlspecialchars( $uniqueKey, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\n\t\t\nCONTENT;\n\nforeach ( $tabs as $key => $tab ):\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nif ( $key == 'posts' ):\n$return .= <<<CONTENT\n\n\t\t\t\t<div id='ipsTabs_nbRecTPTabsTabBar_\nCONTENT;\n$return .= htmlspecialchars( $uniqueKey, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n_nbRecTPTabsTabPosts_\nCONTENT;\n$return .= htmlspecialchars( $uniqueKey, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n_Hide_panel' class='ipsTabs_panel \nCONTENT;\n\nif ( $selectedTab != $key ):\n$return .= <<<CONTENT\n ipsHide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\nCONTENT;\n\nif ( !empty($posts) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<ul class='ipsDataList ipsDataList_reducedSpacing'>\n\t\t\t\t\t\t\t\nCONTENT;\n\nforeach ( $posts as $post ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t<li class='ipsDataItem \nCONTENT;\n\nif ( $post->item()->unread() ):\n$return .= <<<CONTENT\nipsDataItem_unread\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $config['nb_tab_top_pos_savap'] ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t<div class='ipsDataItem_icon ipsPos_top'>\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->userPhoto( $post->author(), 'tiny' );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t<div class=\"ipsDataItem_main \nCONTENT;\n\nif ( $config['nb_tab_top_pos_spcounterp'] ):\n$return .= <<<CONTENT\ncWidgetComments\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\">\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $config['nb_tab_top_pos_spcounterp'] ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"ipsCommentCount ipsPos_right \nCONTENT;\n\nif ( ($post->item()->posts - 1) === 0 ):\n$return .= <<<CONTENT\nipsFaded\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\" data-ipsTooltip title='\nCONTENT;\n\n$pluralize = array( $post->item()->posts - 1 ); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'replies_number', ENT_DISALLOWED, 'UTF-8', FALSE ), FALSE, array( 'pluralize' => $pluralize ) );\n$return .= <<<CONTENT\n'>\nCONTENT;\n\n$return .= htmlspecialchars( $post->item()->posts - 1, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/div>\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t<div class='ipsDataItem_title ipsContained_container'>\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\n$title = 'nb_tab_rtp_goto_' . (\\IPS\\Member::loggedIn()->member_id ? $config['nb_tab_top_pos_goto_userp'] : $config['nb_tab_top_pos_goto_guestp']);\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t<span class='ipsType_break ipsContained'>\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $config['nb_tab_top_pos_sprefixp'] and $post->item()->prefix() ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->prefix( $post->item()->prefix(true), $post->item()->prefix() );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"\nCONTENT;\n$return .= htmlspecialchars( $goToUrl($post), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" title='\nCONTENT;\n\n$val = \"{$title}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n' class='ipsDataItem_title'>\nCONTENT;\n$return .= htmlspecialchars( $post->item()->title, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/a>\n\t\t\t\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $config['nb_tab_top_pos_sfp'] ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t<span class='ipsType_light ipsType_small'><a href=\"\nCONTENT;\n$return .= htmlspecialchars( $post->container()->url(), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\nCONTENT;\n$return .= htmlspecialchars( $post->container()->_title, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/a><\/span><br>\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $config['nb_tab_top_pos_snap'] or $config['nb_tab_top_pos_sdatp'] ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t<span class='ipsType_light ipsType_small'>\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $config['nb_tab_top_pos_snap'] ):\n$return .= <<<CONTENT\n{$post->author()->link()}\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $config['nb_tab_top_pos_snap'] and $config['nb_tab_top_pos_sdatp'] ):\n$return .= <<<CONTENT\n - \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $config['nb_tab_top_pos_sdatp'] ):\n$return .= <<<CONTENT\n\nCONTENT;\n\n$htmlsprintf = array(\\IPS\\DateTime::ts( $post->mapped('date') )->html()); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'nb_tab_rtp_p_posted', ENT_DISALLOWED, 'UTF-8', FALSE ), FALSE, array( 'htmlsprintf' => $htmlsprintf ) );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $config['nb_tab_top_pos_stagsp'] and $post->item()->tags() ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"nbRecTPT_tags\">\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->tags( $post->item()->tags(), $config['nb_tab_top_pos_stags_condensedp'] );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $config['nb_tab_top_pos_show_text'] ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t<div class='ipsType_reset ipsType_medium ipsType_textBlock ipsType_richText ipsType_break ipsContained' \nCONTENT;\n\nif ( $config['nb_tab_top_pos_show_text_trunc'] ):\n$return .= <<<CONTENT\n data-ipsTruncate data-ipsTruncate-type='remove' data-ipsTruncate-size='\nCONTENT;\n$return .= htmlspecialchars( $config['nb_tab_top_pos_show_text_trunc'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n lines' \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\t\t\t\t\t\t\t\t\t{$post->truncated(true)}\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t<\/div>\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nif ( $key == 'topics' ):\n$return .= <<<CONTENT\n\n\t\t\t\t<div id='ipsTabs_nbRecTPTabsTabBar_\nCONTENT;\n$return .= htmlspecialchars( $uniqueKey, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n_nbRecTPTabsTabTopics_\nCONTENT;\n$return .= htmlspecialchars( $uniqueKey, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n_Hide_panel' class='ipsTabs_panel \nCONTENT;\n\nif ( $selectedTab != $key ):\n$return .= <<<CONTENT\n ipsHide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\nCONTENT;\n\nif ( !empty($topics) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<ul class='ipsDataList ipsDataList_reducedSpacing'>\n\t\t\t\t\t\t\t\nCONTENT;\n\nforeach ( $topics as $topic ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t<li class='ipsDataItem \nCONTENT;\n\nif ( $topic->unread() ):\n$return .= <<<CONTENT\nipsDataItem_unread\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $config['nb_tab_top_pos_savat'] ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t<div class='ipsDataItem_icon ipsPos_top'>\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->userPhoto( $topic->author(), 'tiny' );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t<div class=\"ipsDataItem_main \nCONTENT;\n\nif ( $config['nb_tab_top_pos_spcountert'] ):\n$return .= <<<CONTENT\ncWidgetComments\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\">\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $config['nb_tab_top_pos_spcountert'] ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"ipsCommentCount ipsPos_right \nCONTENT;\n\nif ( ($topic->posts - 1) === 0 ):\n$return .= <<<CONTENT\nipsFaded\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\" data-ipsTooltip title='\nCONTENT;\n\n$pluralize = array( $topic->posts - 1 ); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'replies_number', ENT_DISALLOWED, 'UTF-8', FALSE ), FALSE, array( 'pluralize' => $pluralize ) );\n$return .= <<<CONTENT\n'>\nCONTENT;\n\n$return .= htmlspecialchars( $topic->posts - 1, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/div>\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t<div class='ipsDataItem_title ipsContained_container'>\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\n$title = 'nb_tab_rtp_goto_' . (\\IPS\\Member::loggedIn()->member_id ? $config['nb_tab_top_pos_goto_usert'] : $config['nb_tab_top_pos_goto_guestt']);\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t<span class='ipsType_break ipsContained'>\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $config['nb_tab_top_pos_sprefixt'] and $topic->prefix() ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->prefix( $topic->prefix(true), $topic->prefix() );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"\nCONTENT;\n$return .= htmlspecialchars( $goToUrl($topic), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" class='ipsDataItem_title' title='\nCONTENT;\n\n$val = \"{$title}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n'>\nCONTENT;\n$return .= htmlspecialchars( $topic->title, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/a>\n\t\t\t\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $config['nb_tab_top_pos_sft'] ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t<span class='ipsType_light ipsType_small'><a href=\"\nCONTENT;\n$return .= htmlspecialchars( $topic->container()->url(), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\nCONTENT;\n$return .= htmlspecialchars( $topic->container()->_title, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/a><\/span><br>\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $config['nb_tab_top_pos_snat'] or $config['nb_tab_top_pos_sdatt'] ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t<span class='ipsType_light ipsType_small'>\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $config['nb_tab_top_pos_snat'] ):\n$return .= <<<CONTENT\n{$topic->author()->link()}\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $config['nb_tab_top_pos_snat'] and $config['nb_tab_top_pos_sdatt'] ):\n$return .= <<<CONTENT\n - \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $config['nb_tab_top_pos_sdatt'] ):\n$return .= <<<CONTENT\n\nCONTENT;\n\n$htmlsprintf = array(\\IPS\\DateTime::ts( $topic->mapped('date') )->html()); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'nb_tab_rtp_t_started', ENT_DISALLOWED, 'UTF-8', FALSE ), FALSE, array( 'htmlsprintf' => $htmlsprintf ) );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $config['nb_tab_top_pos_stagst'] and $topic->tags() ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"nbRecTPT_tags\">\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->tags( $topic->tags(), $config['nb_tab_top_pos_stags_condensedt'] );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t<\/div>\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t<\/section>\n<\/div>\nCONTENT;\n\n\t\t}\n\t\tcatch ( \\Exception $exception )\n\t\t{\n\t\t\t\\IPS\\Log::log( $exception, \"template_nbRecentTopicsPosts\" );\n\t\t}\n\t\treturn $return;\n}\n\n\tfunction whowasonline( $members, $memberCount, $hour, $stat, $orientation='vertical' ) {\n\t\t$return = '';\n\t\ttry\n\t\t{\n\t\t\t$return .= <<<CONTENT\n\n<h3 class='ipsType_reset ipsWidget_title'>\n\t\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'block_whowasonline', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n \t\n\t\nCONTENT;\n\nif ( $orientation == 'horizontal' ):\n$return .= <<<CONTENT\n&nbsp;&nbsp;<span class='ipsType_light ipsType_unbold ipsType_medium'>\nCONTENT;\n\n$sprintf = array($hour); $pluralize = array( $memberCount ); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'who_was_online_last_x', ENT_DISALLOWED, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf, 'pluralize' => $pluralize ) );\n$return .= <<<CONTENT\n<\/span> \t\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nif ( $stat !== false && $orientation!='vertical' ):\n$return .= <<<CONTENT\n\n\t\t&nbsp;&nbsp;(<span class='ipsType_light ipsType_unbold ipsType_medium'>{$stat}<\/span>)\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\n<\/h3>\n<div class='ipsWidget_inner ipsPad'>\n\t\nCONTENT;\n\nif ( $memberCount ):\n$return .= <<<CONTENT\n\n\t\t<ul class='ipsList_inline ipsList_csv ipsList_noSpacing'>\n\t\t\t\nCONTENT;\n\nforeach ( $members as $row ):\n$return .= <<<CONTENT\n\n\t\t\t\t<li>\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->userLinkFromData( $row['member_id'], $row['name'], $row['members_seo_name'], $row['member_group_id'] );\n$return .= <<<CONTENT\n<\/li>\n\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t<\/ul>\n\t\t\nCONTENT;\n\nif ( $orientation == 'vertical' and $memberCount > 60 ):\n$return .= <<<CONTENT\n\n\t\t\t<p class='ipsType_medium ipsType_reset'>\n\t\t\t\t<a href='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Http\\Url::internal( \"app=core&module=online&controller=online\", null, \"online\", array(), 0 ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', TRUE );\n$return .= <<<CONTENT\n'>\nCONTENT;\n\n$pluralize = array( $memberCount - 60 ); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'and_x_others', ENT_DISALLOWED, 'UTF-8', FALSE ), FALSE, array( 'pluralize' => $pluralize ) );\n$return .= <<<CONTENT\n<\/a>\n\t\t\t<\/p>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t<p class='ipsType_reset ipsType_medium ipsType_light'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'who_was_online_users_empty', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/p>\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n<\/div>\nCONTENT;\n\n\t\t}\n\t\tcatch ( \\Exception $exception )\n\t\t{\n\t\t\t\\IPS\\Log::log( $exception, \"template_whowasonline\" );\n\t\t}\n\t\treturn $return;\n}}"
VALUE;
